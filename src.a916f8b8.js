parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"anEW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=i(require("./index"));function i(t){return t&&t.__esModule?t:{default:t}}function s(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function e(t,i){for(var s=0;s<i.length;s++){var e=i[s];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function h(t,i,s){return i&&e(t.prototype,i),s&&e(t,s),t}var r="https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/160/microsoft/209/face-with-stuck-out-tongue-and-winking-eye_1f61c.png",a=function(){function i(e,h,r){s(this,i),this.x=e,this.y=h,this.src=r,this.size=t.default.sizeOfCard,this.width=this.size,this.choosen=!1,this.color="#"+Math.floor(16777215*Math.random()).toString(16),this.startFlip=!1,this.flipped=!1,this.slice=this.size/7}return h(i,[{key:"drawFace",value:function(t){var i=new Image;i.src=r,t.fillStyle=this.color,t.fillRect(this.x,this.y,this.width,this.size),t.drawImage(i,this.x+5,this.y+5,this.width-10,this.size-10),this.startFlip&&(this.width-=this.slice),this.width<=this.slice&&(this.startFlip=!1,this.flipped=!0)}},{key:"drawPic",value:function(t){this.width<this.size?this.width+=this.slice:this.width=this.size;var i=new Image;i.src=this.src,t.fillStyle=this.color,t.fillRect(this.x,this.y,this.size,this.size),t.drawImage(i,this.x+5,this.y+5,this.size-10,this.size-10)}},{key:"is_selected",value:function(t,i){var s=t>=this.x&&t<=this.x+this.size&&i>=this.y&&i<=this.y+this.size;return s&&(this.startFlip=!0),s}}]),i}();exports.default=a;
},{"./index":"H99C"}],"h6kx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getShuffledArray=e;var s=a(require("./index"));function a(s){return s&&s.__esModule?s:{default:s}}var t={grape:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/160/microsoft/209/grapes_1f347.png",pineaple:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/160/microsoft/209/pineapple_1f34d.png",peach:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/160/microsoft/209/peach_1f351.png",banana:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/160/microsoft/209/banana_1f34c.png",lemon:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/160/microsoft/209/lemon_1f34b.png",mango:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/120/microsoft/209/mango_1f96d.png",redApple:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/120/microsoft/209/red-apple_1f34e.png",strawberry:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/120/microsoft/209/strawberry_1f353.png",cherries:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/120/microsoft/209/cherries_1f352.png",greenApple:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/120/microsoft/209/green-apple_1f34f.png",melon:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/120/microsoft/209/melon_1f348.png",waterMelon:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/120/microsoft/209/watermelon_1f349.png",pear:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/120/microsoft/209/pear_1f350.png"};function e(){for(var a=[],e=Object.values(t),o=0;o<s.default.amountOfCards/2;o++){var m=Math.floor(Math.random()*e.length);a.push(e.splice(m,1))}for(var u=(a=a.concat(a)).length-1;u>0;u--){var p=Math.floor(Math.random()*(u+1)),r=[a[p],a[u]];a[u]=r[0],a[p]=r[1]}return a}
},{"./index":"H99C"}],"H99C":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=n(require("./card")),t=r(require("./fruits"));function i(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}function r(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var a=n?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(r,s,a):r[s]=e[s]}return r.default=e,t&&t.set(e,r),r}function n(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,i){return t&&a(e.prototype,t),i&&a(e,i),e}function d(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var l=function(){function i(){s(this,i),this.canvas=document.getElementById("canvas"),this.ctx=this.canvas.getContext("2d"),this.cards=[],this.flippedCards=[],this.clickedTile=0}return c(i,[{key:"initGame",value:function(){var e=this;this.addCards(),this.addResetBtn(),document.addEventListener("click",function(t){return e.clickHandler(t)}),this.draw()}},{key:"addCards",value:function(){for(var r=t.getShuffledArray(),n=i.sizeOfCard+i.gapBetwenCards,s=0;s<5;s++)for(var a=0;a<2;a++)this.cards.push(new e.default(s*n,a*n,r.pop()))}},{key:"clickHandler",value:function(e){for(var t=this.canvas.getBoundingClientRect(),i=e.clientX-t.left,r=e.clientY-t.top,n=0;n<this.cards.length;n++)this.clickedTile<=1&&this.cards[n].is_selected(i,r)&&!0!==this.cards[n].choosen&&(this.cards[n].choosen=!0,this.flippedCards.push(n),this.clickedTile++)}},{key:"addResetBtn",value:function(){this.btn=document.createElement("button"),this.btn.addEventListener("click",this.reset.bind(this)),this.btn.setAttribute("id","reset"),this.btn.innerText="Reset",document.body.appendChild(this.btn)}},{key:"draw",value:function(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);for(var e=0;e<this.cards.length;e++)!1===this.cards[e].flipped?this.cards[e].drawFace(this.ctx):this.cards[e].drawPic(this.ctx);this.check(),this.requestId=requestAnimationFrame(this.draw.bind(this))}},{key:"check",value:function(){var e=this;if(2===this.flippedCards.length){var t=this.flippedCards[0],r=this.flippedCards[1];this.cards[t].src===this.cards[r].src?(this.flippedCards=[],this.clickedTile=0):setTimeout(function(){e.cards[t].flipped=!1,e.cards[r].flipped=!1,e.cards[t].choosen=!1,e.cards[r].choosen=!1,e.clickedTile=0},i.flipDelay),this.flippedCards=[]}var n=0;if(this.cards.forEach(function(e){n+=Number(e.flipped)}),n===i.amountOfCards){if(this.timer)return;this.timer=setTimeout(function(){e.reset(),e.timer=null},i.flipDelay)}}},{key:"reset",value:function(){this.cards=[],this.flippedCards=[],this.clickedTile=0,this.addCards()}}]),i}();exports.default=l,d(l,"sizeOfCard",140),d(l,"gapBetwenCards",10),d(l,"amountOfCards",10),d(l,"flipDelay",1e3),(new l).initGame();
},{"./card":"anEW","./fruits":"h6kx"}]},{},["H99C"], null)
//# sourceMappingURL=/src.a916f8b8.js.map